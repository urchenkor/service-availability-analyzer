# Access Log Analyzer

Анализатор access-логов веб-сервера, предназначенный для автоматического выявления временных интервалов, в которых доля отказов превышает заданный порог. Отказами считаются запросы, завершившиеся с HTTP-кодом 5xx или обработанные дольше указанного времени.

## Установка

Для установки инструмента требуется Java Runtime Environment (JRE) версии 11. Сборка проекта осуществляется с помощью Apache Maven.

### Шаги для установки:

1. Убедитесь, что у вас установлен JDK 8+ и Apache Maven.
2. Клонируйте репозиторий:
   ```
   git clone https://github.com/urchenkor/service-availability-analyzer.git
   ```
3. Перейдите в директорию проекта
4. Выполните команду сборки:
    ```
    mvn clean package
    ```
5. После успешной сборки вы найдете self-executable JAR файл в директории target.

## Использование

### Программа запускается следующим образом:
```
cat access.log | java -jar access-log-analyzer.jar -a 99.9 -t 45
```

### где:
* access.log – имя файла с access-логами\
формат логов ``` 192.168.32.181 - - [14/06/2017:16:47:02 +1000] "PUT /rest/v1.4/documents?zone=default&_rid=6076537c HTTP/1.1" 200 2 44.510983 "-" "@list-item-updater" prio:0 ```\
Для корректной работы необходимо чтобы на 4,9 и 11 позициях находились дата/время в указанном выше формате, код ответа и время затраченное на обработку соответственно.

* -a – минимальный допустимый уровень доступности (Обязательный параметр, в процентах).
* -t – максимальное допустимое время отклика (Обязательный параметр, в миллисекундах).
* -i – Интервал отображаемой статистики в секундах (Не обязательный параметр, Дефолтное значение 60).



### Вывод будет выглядеть примерно так:
    ```
    13:32:26 13:33:15 94.5
    15:23:02 15:23:08 99.8
    ```
#### Каждая строка представляет собой временной интервал, в котором доступность была ниже установленного порога, и процент доступности за данный период.